import{s as q}from"./index-BdGk_e3J.js";import{C as P,a2 as E,D as M,y as N,z as i,k as p,q as a,p as n,l,I as z,J as c,u as e,H as d,A as w,v as T}from"./app-OIQOwgQc.js";import{s as U}from"./index-zSkH5R5H.js";import{s as f}from"./index-DX_dYA1b.js";import{_ as H}from"./AppLayout-CdWpWhko.js";import{_ as D}from"./UserSettingsLayout-C2h54d71.js";import"./createLucideIcon-Bg94YCyA.js";import"./settings-DqBOV_MH.js";import"./ApplicationLogo-DCWaatbj.js";const A={class:"flex flex-col gap-2"},F={class:"flex flex-col gap-2"},J={class:"flex flex-col gap-2"},Z={__name:"Password",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(R){const b=P("current-password-input"),k=P("new-password-input"),S=E(),s=M({current_password:"",password:"",password_confirmation:""}),B=()=>{S.add({severity:"success",summary:"Saved",detail:"Your password has been updated",life:3e3})},C=()=>{s.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{s.reset(),B()},onError:()=>{var u,r;if((u=s.errors)!=null&&u.password){s.reset("password","password_confirmation");const t=k.value.$el.querySelector("input");t&&t.focus()}if((r=s.errors)!=null&&r.current_password){s.reset("current_password");const t=b.value.$el.querySelector("input");t&&t.focus()}}})};return(u,r)=>{const t=N("InertiaHead"),m=U,I=T,$=q;return p(),i(H,null,{default:a(()=>[n(t,{title:"Password Settings"}),n(D,null,{default:a(()=>[n($,{"pt:body:class":"max-w-2xl space-y-3","pt:caption:class":"space-y-1"},{title:a(()=>r[3]||(r[3]=[d(" Update Password ")])),subtitle:a(()=>r[4]||(r[4]=[d(" Ensure your account is using a long, random password to stay secure ")])),content:a(()=>{var _,v,y,g,V,x;return[l("form",{class:"space-y-6",onSubmit:z(C,["prevent"])},[l("div",A,[r[5]||(r[5]=l("label",{for:"current_password"},"Current Password",-1)),n(e(f),{id:"current_password",ref:"current-password-input",modelValue:e(s).current_password,"onUpdate:modelValue":r[0]||(r[0]=o=>e(s).current_password=o),invalid:!!((_=e(s).errors)!=null&&_.current_password),autocomplete:"current-password",feedback:!1,toggleMask:"",required:"",fluid:""},null,8,["modelValue","invalid"]),(v=e(s).errors)!=null&&v.current_password?(p(),i(m,{key:0,severity:"error",variant:"simple",size:"small"},{default:a(()=>{var o;return[d(w((o=e(s).errors)==null?void 0:o.current_password),1)]}),_:1})):c("",!0)]),l("div",F,[r[6]||(r[6]=l("label",{for:"password"},"New Password",-1)),n(e(f),{id:"password",ref:"new-password-input",modelValue:e(s).password,"onUpdate:modelValue":r[1]||(r[1]=o=>e(s).password=o),invalid:!!((y=e(s).errors)!=null&&y.password),autocomplete:"new-password",toggleMask:"",required:"",fluid:""},null,8,["modelValue","invalid"]),(g=e(s).errors)!=null&&g.password?(p(),i(m,{key:0,severity:"error",variant:"simple",size:"small"},{default:a(()=>{var o;return[d(w((o=e(s).errors)==null?void 0:o.password),1)]}),_:1})):c("",!0)]),l("div",J,[r[7]||(r[7]=l("label",{for:"password_confirmation"},"Confirm Password",-1)),n(e(f),{id:"password_confirmation",modelValue:e(s).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=o=>e(s).password_confirmation=o),invalid:!!((V=e(s).errors)!=null&&V.password_confirmation),autocomplete:"confirm-password",feedback:!1,toggleMask:"",required:"",fluid:""},null,8,["modelValue","invalid"]),(x=e(s).errors)!=null&&x.password_confirmation?(p(),i(m,{key:0,severity:"error",variant:"simple",size:"small"},{default:a(()=>{var o;return[d(w((o=e(s).errors)==null?void 0:o.password_confirmation),1)]}),_:1})):c("",!0)]),n(I,{loading:e(s).processing,type:"submit",label:"Save"},null,8,["loading"])],32)]}),_:1})]),_:1})]),_:1})}}};export{Z as default};
