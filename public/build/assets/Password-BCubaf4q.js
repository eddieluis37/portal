import{s as q,a as E}from"./index-KMVAwozW.js";import{s as M}from"./index-CJfKup4y.js";import{f as x,a1 as N,C as T,r as U,c as l,o as p,w as a,a as n,b as i,j as z,k as c,u as o,i as d,t as w}from"./app-Zf__d752.js";import{s as f}from"./index-B4ZtG5eK.js";import{_ as H}from"./AppLayout-yEbo9AE7.js";import{_ as j}from"./UserSettingsLayout-BNHkJw9s.js";import"./ApplicationLogo-1mCcn0R0.js";import"./index-CkEF_yyc.js";import"./index-CSwW9ZDC.js";import"./index-CFtyyahN.js";import"./createLucideIcon-CYQHkKyM.js";import"./settings-qBhuC7r9.js";const D={class:"flex flex-col gap-2"},F={class:"flex flex-col gap-2"},R={class:"flex flex-col gap-2"},rs={__name:"Password",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(Y){const P=x("current-password-input"),k=x("new-password-input"),S=N(),s=T({current_password:"",password:"",password_confirmation:""}),B=()=>{S.add({severity:"success",summary:"Saved",detail:"Your password has been updated",life:3e3})},C=()=>{s.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{s.reset(),B()},onError:()=>{var u,r;if((u=s.errors)!=null&&u.password){s.reset("password","password_confirmation");const t=k.value.$el.querySelector("input");t&&t.focus()}if((r=s.errors)!=null&&r.current_password){s.reset("current_password");const t=P.value.$el.querySelector("input");t&&t.focus()}}})};return(u,r)=>{const t=U("InertiaHead"),m=M,$=E,I=q;return p(),l(H,null,{default:a(()=>[n(t,{title:"Password Settings"}),n(j,null,{default:a(()=>[n(I,{"pt:body:class":"max-w-2xl space-y-3","pt:caption:class":"space-y-1"},{title:a(()=>r[3]||(r[3]=[d(" Update Password ")])),subtitle:a(()=>r[4]||(r[4]=[d(" Ensure your account is using a long, random password to stay secure ")])),content:a(()=>{var _,v,y,g,V,b;return[i("form",{class:"space-y-6",onSubmit:z(C,["prevent"])},[i("div",D,[r[5]||(r[5]=i("label",{for:"current_password"},"Current Password",-1)),n(o(f),{id:"current_password",ref:"current-password-input",modelValue:o(s).current_password,"onUpdate:modelValue":r[0]||(r[0]=e=>o(s).current_password=e),invalid:!!((_=o(s).errors)!=null&&_.current_password),autocomplete:"current-password",feedback:!1,toggleMask:"",required:"",fluid:""},null,8,["modelValue","invalid"]),(v=o(s).errors)!=null&&v.current_password?(p(),l(m,{key:0,severity:"error",variant:"simple",size:"small"},{default:a(()=>{var e;return[d(w((e=o(s).errors)==null?void 0:e.current_password),1)]}),_:1})):c("",!0)]),i("div",F,[r[6]||(r[6]=i("label",{for:"password"},"New Password",-1)),n(o(f),{id:"password",ref:"new-password-input",modelValue:o(s).password,"onUpdate:modelValue":r[1]||(r[1]=e=>o(s).password=e),invalid:!!((y=o(s).errors)!=null&&y.password),autocomplete:"new-password",toggleMask:"",required:"",fluid:""},null,8,["modelValue","invalid"]),(g=o(s).errors)!=null&&g.password?(p(),l(m,{key:0,severity:"error",variant:"simple",size:"small"},{default:a(()=>{var e;return[d(w((e=o(s).errors)==null?void 0:e.password),1)]}),_:1})):c("",!0)]),i("div",R,[r[7]||(r[7]=i("label",{for:"password_confirmation"},"Confirm Password",-1)),n(o(f),{id:"password_confirmation",modelValue:o(s).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=e=>o(s).password_confirmation=e),invalid:!!((V=o(s).errors)!=null&&V.password_confirmation),autocomplete:"confirm-password",feedback:!1,toggleMask:"",required:"",fluid:""},null,8,["modelValue","invalid"]),(b=o(s).errors)!=null&&b.password_confirmation?(p(),l(m,{key:0,severity:"error",variant:"simple",size:"small"},{default:a(()=>{var e;return[d(w((e=o(s).errors)==null?void 0:e.password_confirmation),1)]}),_:1})):c("",!0)]),n($,{loading:o(s).processing,type:"submit",label:"Save"},null,8,["loading"])],32)]}),_:1})]),_:1})]),_:1})}}};export{rs as default};
